{"version":3,"sources":["utils/index.js","components/Game/Hand/NumberCard/index.js","components/Game/Hand/index.js","components/Game/Navigation/NavigationButton/index.js","components/Game/Navigation/index.js","components/Game/Operations/Operation/index.js","components/Game/Operations/index.js","components/Game/index.js","components/Navigation/NavigationButton/index.js","components/Navigation/index.js","pages/GamePage/index.js","App.js","reportWebVitals.js","index.js"],"names":["Fraction","require","isSolvable","hand","length","equals","i","j","ALL_OPERATIONS","op","isComputationValid","filter","_","index","compute","generateHand","previousHands","Array","apply","map","Math","floor","random","previousHand","mapOperationToText","operation","n1","n2","add","sub","mul","div","computeHand","n1Index","n2Index","currentHand","newNumber","newHand","isEndGame","card","NumberCard","isHidden","isSelected","isFinal","n","select","className","onClick","toFraction","Hand","cards","selected","selectCard","NavigationButton","text","Navigation","goBack","reset","Operation","Operations","selectOperation","makeHistory","Game","useState","history","setHistory","latest","updateSelected","slice","updateOperation","disabled","onPrevious","isPreviousDisabled","onNext","GamePage","hands","setHands","setCurrentHand","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a11aa742.chunk.js","sourcesContent":["const Fraction = require(\"fraction.js\");\n\nexport const isSolvable = (hand) => {\n  if (hand.length === 1) {\n    return hand[0].equals(24);\n  }\n\n  for (var i = 0; i < hand.length; i++) {\n    for (var j = 0; j < hand.length; j++) {\n      if (i === j) continue;\n      for (const op of ALL_OPERATIONS) {\n        if (isComputationValid(op, hand[i], hand[j])) {\n          // eslint-disable-next-line no-loop-func\n          const isCorrect = isSolvable([...hand.filter((_,index) => index !== i && index !== j), compute(op, hand[i], hand[j])]);\n          if (isCorrect) return true;\n        }\n      }\n    }\n  }\n  return false;\n}\n\nexport const NUM_CARDS = 4;\nexport const NUM_MIN = 1;\nexport const NUM_MAX = 13;\n\nconst generateCandidateHand = () => {\n  return Array.apply(null, Array(NUM_CARDS)).map(\n    () => Fraction(Math.floor(Math.random() * (NUM_MAX - NUM_MIN)) + NUM_MIN)\n  );\n}\n\nexport const generateHand = (previousHands) => {\n  var hand;\n  while (true) {\n    hand = generateCandidateHand();\n    // eslint-disable-next-line no-loop-func\n    if (isSolvable(hand) && previousHands.filter(previousHand => previousHand === hand).length === 0) {\n      return hand;\n    }\n  }\n  \n}\n\nexport const mapOperationToText = (operation) => {\n  switch (operation) {\n    case \"ADD\":\n      return \"+\";\n    case \"SUB\":\n      return \"-\";\n    case \"MUL\":\n      return \"ร\";\n    case \"DIV\":\n      return \"รท\";\n    default:\n      return \"ERROR\";\n  }\n}\n\nexport const ALL_OPERATIONS = [\"ADD\", \"SUB\", \"MUL\", \"DIV\"];\n\nexport const isComputationValid = (operation, n1, n2) => {\n  return !(operation === \"DIV\" && n2.equals(0));\n}\n\nconst compute = (operation, n1, n2) => {\n  switch (operation) {\n    case \"ADD\":\n      return n1.add(n2);\n    case \"SUB\":\n      return n1.sub(n2);\n    case \"MUL\":\n      return n1.mul(n2);\n    case \"DIV\":\n      return n1.div(n2);\n    default:\n      return \"ERROR\";\n  }\n}\n\nexport const computeHand = (operation, n1Index, n2Index, currentHand) => {\n  const n1 = currentHand[n1Index];\n  const n2 = currentHand[n2Index];\n\n  const newNumber = compute(operation, n1, n2);\n  let newHand = [...currentHand];\n  newHand[n1Index] = null;\n  newHand[n2Index] = newNumber;\n  return newHand;\n}\n\nexport const GOAL_NUMBER = 24;\n\nexport const isEndGame = (hand) => {\n  return hand.filter((card) => card !== null).length === 1;\n}\n\nexport const isWin = (hand) => {\n  return isEndGame(hand) && hand.filter((card) => card !== null)[0].equals(24);\n}","import React from \"react\";\nimport { GOAL_NUMBER } from \"../../../../utils\";\nimport \"./index.scss\";\n\nconst NumberCard = ({isHidden, isSelected, isFinal, n, select}) => {\n  return isHidden ? \n  <div className=\"number-card-hidden\"/> :\n  <div className={\"number-card \" + (isFinal ? \n    (n.equals(GOAL_NUMBER) ? \"correct\" : \"incorrect\") :\n    (isSelected ? \"selected\" : \"\"))\n  } onClick={select}>\n    <div className=\"number-card-number\">\n      { n.toFraction() }\n    </div>\n  </div>;\n}\n\nexport default NumberCard;","import React from \"react\";\nimport NumberCard from \"./NumberCard\";\nimport \"./index.scss\";\nimport { isEndGame } from \"../../../utils\";\n\nconst Hand = ({cards, selected, selectCard}) => {\n  return <div className=\"hand\">\n    {cards.map((n, index) => \n    <NumberCard \n      key={index} \n      n={n} \n      isHidden={n === null} \n      isSelected={index === selected}\n      isFinal={isEndGame(cards)}\n      select={() => selectCard(index)}\n    />)}\n  </div>\n}\n\nexport default Hand;","import React from \"react\";\nimport \"./index.scss\";\n\nconst NavigationButton = ({text, onClick}) => {\n  return <div className=\"game-navigation-button\" onClick={onClick}>\n    <div className=\"game-navigation-button-text\">\n      { text }\n    </div>\n  </div>;\n}\n\nexport default NavigationButton;","import React from \"react\";\nimport \"./index.scss\";\nimport NavigationButton from \"./NavigationButton\";\n\nconst Navigation = ({goBack, reset}) => {\n  return <div className=\"game-navigation\">\n    <NavigationButton text=\"Back\" onClick={goBack}/>\n    <NavigationButton text=\"Reset\" onClick={reset}/>\n  </div>;\n}\n\nexport default Navigation;","import React from \"react\";\nimport { mapOperationToText } from \"../../../../utils\";\nimport \"./index.scss\";\n\nconst Operation = ({operation, isSelected, select}) => {\n  return <div className={\"operation \" + (isSelected ? \"selected\" : \"\")} onClick={select}>\n    <div className=\"operation-text\">\n      { mapOperationToText(operation) }\n    </div>\n  </div>;\n}\n\nexport default Operation;","import React from \"react\";\nimport Operation from \"./Operation\";\nimport \"./index.scss\";\nimport { ALL_OPERATIONS } from \"../../../utils\";\n\nconst Operations = ({selected, selectOperation}) => {\n  return <div className=\"operations\">\n    {ALL_OPERATIONS.map((operation, index) => \n      <Operation \n        key={index}\n        operation={operation} \n        select={() => selectOperation(operation)}\n        isSelected={selected === operation}\n      />\n    )}\n  </div>;\n}\n\nexport default Operations;","import React, { useState } from \"react\";\nimport { computeHand, isComputationValid, isEndGame } from \"../../utils\";\nimport Hand from \"./Hand\";\nimport Navigation from \"./Navigation\";\nimport Operations from \"./Operations\";\n\nconst makeHistory = (hand, selected, operation) => ({\n  hand,\n  selected,\n  operation\n})\n\nconst Game = ({hand}) => {\n  const [history, setHistory] = useState([makeHistory(hand, null, null)]);\n  const latest = history[history.length - 1];\n  const updateSelected = (index) => {\n    setHistory([...history.slice(0, history.length - 1), makeHistory(latest.hand, index, latest.operation)]);\n  }\n\n  const selectCard = (index) => {\n    if (index === latest.selected || isEndGame(latest.hand)) {\n      updateSelected(null);\n    } else if (latest.operation === null || latest.selected === null) {\n      updateSelected(index);\n    } else { // compute & push new history\n      if (isComputationValid(latest.operation, hand[latest.selected], hand[index])) {\n        setHistory([...history,\n          makeHistory(computeHand(latest.operation, latest.selected, index, latest.hand), null, null)\n        ]);\n      }\n    }\n  }\n\n  const updateOperation = (operation) => {\n    setHistory([...history.slice(0, history.length - 1), makeHistory(latest.hand, latest.selected, operation)]);\n  }\n\n  const selectOperation = (operation) => {\n    if (operation === latest.operation || isEndGame(latest.hand)) {\n      updateOperation(null);\n    } else {\n      updateOperation(operation);\n    }\n  }\n\n  const goBack = () => {\n    if (history.length > 1) setHistory(history.slice(0, history.length - 1));\n  }\n\n  const reset = () => {\n    setHistory([makeHistory(hand, null, null)]);\n  }\n  \n  return <div className=\"game\">\n    <Navigation\n      goBack={goBack}\n      reset={reset}\n    />\n    <Hand \n      cards={latest.hand} \n      selected={latest.selected} \n      selectCard={selectCard}\n    />\n    <Operations\n      selected={latest.operation}\n      selectOperation={selectOperation}\n    />\n  </div>\n}\n\nexport default Game;","import React from \"react\";\nimport \"./index.scss\";\n\nconst NavigationButton = ({text, onClick, disabled=false}) => {\n  return <div className={\"navigation-button \" + (disabled ? \"disabled\" : \"\")} onClick={onClick}>\n    <div className=\"navigation-button-text\">\n      { text }\n    </div>\n  </div>;\n}\n\nexport default NavigationButton;","import React from \"react\";\nimport NavigationButton from \"./NavigationButton\";\nimport \"./index.scss\";\n\nconst Navigation = ({onPrevious, isPreviousDisabled, onNext}) => {\n  return <div className=\"navigation\">\n    <NavigationButton text=\"Previous\" onClick={onPrevious} disabled={isPreviousDisabled}/>\n    <NavigationButton text=\"Next\" onClick={onNext}/>\n  </div>\n}\n\nexport default Navigation;","import React, { useState } from \"react\";\nimport Game from \"../../components/Game\";\nimport Navigation from \"../../components/Navigation\";\nimport { generateHand } from \"../../utils\";\nimport \"./index.scss\";\n\nconst GamePage = () => {\n  const [hands, setHands] = useState([generateHand([])]);\n  const [currentHand, setCurrentHand] = useState(0);\n  const newHand = () => {\n    const hand = generateHand(hands);\n    setHands([...hands, hand]);\n  }\n  \n  const onPrevious = () => {\n    if (currentHand !== 0) {\n      setCurrentHand(currentHand - 1);\n    }\n  }\n\n  const onNext = () => {\n    if (currentHand === (hands.length - 1)) {\n      newHand();\n    }\n    setCurrentHand(currentHand + 1);\n  }\n\n  return <div className=\"game-page\">\n    <Navigation \n      onPrevious={onPrevious} \n      isPreviousDisabled={currentHand === 0} \n      onNext={onNext}\n    />\n    <Game key={currentHand} hand={hands[currentHand]}/> \n  </div>\n}\n\nexport default GamePage;\n","import GamePage from \"./pages/GamePage\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <GamePage/>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}